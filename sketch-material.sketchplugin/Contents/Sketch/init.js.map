{"version":3,"sources":["webpack://exports/webpack/bootstrap","webpack://exports/./src/common/constants.js","webpack://exports/./src/components/color.js","webpack://exports/./src/components/data.js","webpack://exports/./src/components/elevations.js","webpack://exports/./src/components/icons.js","webpack://exports/./src/components/metadata.js","webpack://exports/./src/components/type.js","webpack://exports/./src/init.js","webpack://exports/./src/panel/first-mouse.js","webpack://exports/./src/panel/index.js","webpack://exports/./src/panel/mocha-js-delegate.js","webpack://exports/./src/utils/index.js","webpack://exports/./src/utils/modules/array.js","webpack://exports/./src/utils/modules/class.js","webpack://exports/./src/utils/modules/color.js","webpack://exports/./src/utils/modules/doc.js","webpack://exports/./src/utils/modules/dom.js","webpack://exports/./src/utils/modules/styles.js","webpack://exports/./src/utils/modules/symbol.js","webpack://exports/./src/utils/modules/ui.js","webpack://exports/external \"sketch/settings\""],"names":["baseURL","layerSettingsPanelId","stylesPanelId","_setBorderColor","layer","color","layerClass","class","borders","style","enabledBorders","count","lastObject","fillType","setColor","border","addStylePartOfType","setFillType","setPosition","setThickness","_fillIcon","symbolInstance","rawColor","Utils","makeColorSymbol","name","selectedSymbol","findSymbolByName","overridePoints","forEach","overridePoint","layerName","setValue_forOverridePoint_","symbolID","isSelected","select_byExtendingSelection_showSelection","_setFillColor","fills","enabledFills","fill","setTextColor","_applyColor","doc","NSDocumentController","sharedDocumentController","currentDocument","selection","selectedLayers","layers","message","selecitonLoop","objectEnumerator","sel","nextObject","nsColor","startsWith","hexToMSColor","rgbaToMSColor","type","_addGlobalColors","colors","MSColors","i","length","push","MSColor","colorWithRed_green_blue_alpha","red","green","blue","alpha","app","NSApp","delegate","assets","globalAssets","setColors","inspectorController","closeAnyColorPopover","refreshCurrentDocument","reloadInspector","_addGlobalSymbols","colorGroups","group","clr","_pickColor","webView","btn","BCMagnifierButton","alloc","initWithFrame","NSZeroRect","coscript","pushAsCurrentCOScript","setCOSJSTargetFunction","sender","pickColor","hexValue","immutableModelObject","windowScriptObject","evaluateWebScript","performClick","context","applyColor","addGlobalColors","addGlobalSymbols","shuffle","array","currentIndex","temporaryValue","randomIndex","Math","floor","random","applyFakeData","fakedata","data","is","MSTextLayer","setStringValue","applyElevation","elevation","elevationName","createAndGetSharedLayerStyleFromJson","target","sharedStyle","convertSvgToSymbol","console","log","existingSymbol","replaceColor","colorValue","r","g","b","a","prefix","ColorName","colorName","colorHex","colorAlpha","newSymbol","newSymbolInstance","newSymbolRect","getRect","droppedElement","firstLayer","droppedEleRect","current","removeLayer","setConstrainProportions","setX","x","setY","y","addLayers","select_byExpandingSelection","draggedLayer","draggedLayerRect","svgImporter","MSSVGImporter","svgURL","NSURL","URLWithString","url","svgString","NSString","stringWithContentsOfURL_encoding_error","NSUTF8StringEncoding","range","rangeOfString","path","hasBoundingBox","mu","NSMutableString","stringWithString","location","NSNotFound","insertString_atIndex","svgData","dataUsingEncoding","prepareToImportFromData","svgLayer","importAsLayer","setName","svgRect","isGlif","subLayers","colorTHex","hexToNSColor","colorBlack","blackSymbol","blackSymbolInstance","sRect","setHeight","setWidth","j","hasEnabledFill","removeFromParent","removeAllStyleFills","hasClippingMask","indexOf","MSSymbolCreator","createSymbolFromLayers_withName_onSymbolsPage","MSLayerArray","arrayWithLayer","symbolInstanceRect","Settings","require","updateLayerMetadata","keys","setLayerSettingForKey","key","value","applyTypographyStyles","color_red","color_blue","color_green","color_alpha","createAndGetSharedTextStyleFromJson","commandId","command","identifier","threadDictionary","NSThread","mainThread","browserWindow","CONSTS","windowObject","options","width","height","panel","MDPanel","createCocoaObject","methods","superclass","uniqueClassName","NSUUID","UUID","UUIDString","classDesc","MOClassDescription","allocateDescriptionForClassWithName_superclass_","NSObject","registerClass","selectorString","selector","NSSelectorFromString","addInstanceMethodWithSelector_function","NSClassFromString","new","module","exports","contentView","button","evt","removeFromSuperview","NSApplication","sharedApplication","sendEvent","NSButton","setIdentifier","setTransparent","setTranslatesAutoresizingMaskIntoConstraints","addSubview","views","addConstraints","NSLayoutConstraint","constraintsWithVisualFormat_options_metrics_views","NSLayoutFormatDirectionLeadingToTrailing","constraintWithItem_attribute_relatedBy_toItem_attribute_multiplier_constant","NSLayoutAttributeTop","NSLayoutRelationEqual","defaultOptions","Object","assign","initilize","Panel","NSPanel","init","colorWhite","NSColor","frame","NSMakeRect","titleBgColor","contentBgColor","fiber","createFiber","webViewRect","WebView","closeButton","standardWindowButton","NSWindowCloseButton","titlebarView","superview","titlebarViewController","view","titlebarContainerView","setTitleVisibility","NSWindowTitleHidden","setTitlebarAppearsTransparent","setHidden","NSWindowMiniaturizeButton","NSWindowZoomButton","setFrame_display","setBackgroundColor","setWorksWhenModal","center","makeKeyAndOrderFront","nil","becomeKeyWindow","setLevel","NSFloatingWindowLevel","setWantsLayer","setFrame","setMainFrameURL_","MochaJSDelegate","webFrame","request","mainFrameURL","fragment","sketchData","JSON","parse","decodeURI","valueForKey","firstMouseAcceptor","Icons","Colors","Type","FakeData","Elevation","Metadata","setFrameLoadDelegate_","getClassInstance","self","wantsStop","close","removeObjectForKey","cleanup","setAction","setFrameOrigin","NSMakePoint","setFrameSize","NSMakeSize","selectorHandlerDict","delegateClassDesc","handlers","setHandlerForSelector","func","handlerHasBeenSet","args","regex","exec","dynamicFunction","eval","join","addInstanceMethodWithSelector_function_","removeHandlerForSelector","getHandlerForSelector","getAllHandlers","getClass","ArrayUtils","ClassUtils","ColorUtils","DocUtils","DomUtils","StyleUtils","SymbolUtils","UiUtils","find","format","container","returnArray","match","predicate","NSPredicate","predicateWithFormat","items","pages","MSSharedStyleContainer","MSSharedTextStyleContainer","objectsSortedByName","children","queryResult","filteredArrayUsingPredicate","theClass","klass","hex","result","toHex","c","parseInt","substring","rgba","replace","split","parseFloat","cssColorToMSColor","document","page","currentPage","artboard","currentArtboard","rect","round","maxX","maxY","val","addGroup","MSLayerGroup","addShape","MSShapeGroup","shapeWithRect","addText","string","text","parentGroup","getSharedTextStyleByName","sharedStyles","documentData","allTextStyles","MSSharedStyle","getSharedLayerStyleByName","allLayerStyles","addSharedStylesToDoc","layerTextStyles","layerStyles","s","initWithName_style","addSharedObject","json","fontFamily","font","lineHeight","fontSize","size","leading","alignment","spacing","paragraphSpacing","textTransform","strikethrough","underline","setFontPostscriptName","setLeading","setLineHeight","setFontSize","setTextAlignment","textAlignment","setCharacterSpacing","addAttribute_value","paragraphStyle","setParagraphSpacing","applyFillsToStyle","styleFill","isEnabled","applyShadowsToStyle","shadows","shadow","styleShadow","offsetX","offsetY","blurRadius","blur","spread","applyBordersToStyle","styleBorder","thickness","position","MSStyle","contextSettings","setOpacity","symbolName","targetSymbols","allSymbols","targetSymbol","objectAtIndex","isEqualToString","symbolsPageOrCreateIfNecessary","colorBg","colorBgRect","arrayWithLayers","canCreateSymbolFromLayers","showMessage"],"mappings":"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","file":"init.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/init.js\");\n","export default {\n  baseURL: \"https://google-com-sketch-material.firebaseapp.com/\",\n  layerSettingsPanelId: \"com.gsid.sketch.material.layer.settings\",\n  stylesPanelId: \"com.gsid.sketch.material.styles.13121\"\n};\n","import Utils from \"../utils\";\n\nexport default function() {\n  var _setBorderColor = function(layer, color) {\n    var layerClass = layer.class();\n    if (\n      layerClass == \"MSRectangleShape\" ||\n      layerClass == \"MSOvalShape\" ||\n      layerClass == \"MSTriangleShape\" ||\n      layerClass == \"MSStarShape\" ||\n      layerClass == \"MSPolygonShape\"\n    ) {\n      var borders = layer.style().enabledBorders();\n      if (borders.count() > 0 && borders.lastObject().fillType() == 0) {\n        borders.lastObject().setColor(color);\n      } else {\n        var border = layer.style().addStylePartOfType(1);\n        border.setFillType(0);\n        border.setColor(color);\n        border.setPosition(2);\n        border.setThickness(1);\n      }\n    }\n  };\n\n  var _fillIcon = function(symbolInstance, color, rawColor) {\n    Utils.makeColorSymbol(color, rawColor.color, 1, \"c/\" + rawColor.name);\n\n    var selectedSymbol = Utils.findSymbolByName(\"c/\" + rawColor.name);\n\n    symbolInstance.overridePoints().forEach(function(overridePoint) {\n      if (overridePoint.layerName() + \"\" == \"🎨 Color\") {\n        symbolInstance.setValue_forOverridePoint_(\n          selectedSymbol.symbolID(),\n          overridePoint\n        );\n      }\n    });\n\n    symbolInstance.isSelected = true;\n    symbolInstance.select_byExtendingSelection_showSelection(true, true, true);\n  };\n\n  var _setFillColor = function(layer, color, rawColor) {\n    var layerClass = layer.class();\n\n    if (layerClass == \"MSSymbolInstance\") {\n      _fillIcon(layer, color, rawColor);\n    }\n\n    if (\n      layerClass == \"MSRectangleShape\" ||\n      layerClass == \"MSOvalShape\" ||\n      layerClass == \"MSTriangleShape\" ||\n      layerClass == \"MSStarShape\" ||\n      layerClass == \"MSPolygonShape\"\n    ) {\n      var fills = layer.style().enabledFills();\n      if (fills.count() > 0 && fills.lastObject().fillType() == 0) {\n        fills.lastObject().setColor(color);\n      } else {\n        var fill = layer.style().addStylePartOfType(0);\n        fill.setFillType(0);\n        fill.setColor(color);\n      }\n    }\n\n    if (layer.class() == \"MSTextLayer\") {\n      layer.setTextColor(color);\n    }\n  };\n\n  var _applyColor = function(rawColor) {\n    var doc = NSDocumentController.sharedDocumentController().currentDocument();\n    var selection = doc.selectedLayers().layers();\n\n    if (selection.count() <= 0) {\n      Utils.message(\"Select a layer to apply color\");\n    } else {\n      var selecitonLoop = selection.objectEnumerator();\n      var sel;\n      while ((sel = selecitonLoop.nextObject())) {\n        var nsColor;\n\n        if (rawColor.color.startsWith(\"#\") > 0) {\n          nsColor = Utils.hexToMSColor(rawColor.color);\n        }\n\n        if (rawColor.color.startsWith(\"rgba\") > 0) {\n          nsColor = Utils.rgbaToMSColor(rawColor.color);\n        }\n\n        if (!nsColor) {\n          Utils.message(\"Can't find the color!\");\n          return;\n        }\n\n        if (rawColor.type == \"border\") {\n          _setBorderColor(sel, nsColor);\n        } else {\n          _setFillColor(sel, nsColor, rawColor);\n        }\n      }\n    }\n  };\n\n  var _addGlobalColors = function(colors) {\n    var MSColors = [];\n    for (var i = 0; i < colors.length; i++) {\n      if (typeof colors[i] == \"string\") {\n        MSColors.push(Utils.hexToMSColor(colors[i]));\n      } else {\n        MSColors.push(\n          MSColor.colorWithRed_green_blue_alpha(\n            colors[i].red,\n            colors[i].green,\n            colors[i].blue,\n            colors[i].alpha\n          )\n        );\n      }\n    }\n    var app = NSApp.delegate();\n    var assets = app.globalAssets();\n    assets.setColors(MSColors);\n    Utils.doc()\n      .inspectorController()\n      .closeAnyColorPopover();\n    app.refreshCurrentDocument();\n    Utils.doc().reloadInspector();\n\n    Utils.message(\n      \"✅ Colors added successfuly, Open color picker to see changes.\"\n    );\n  };\n\n  var _addGlobalSymbols = function(colorGroups) {\n    for (var group in colorGroups) {\n      for (var clr in colorGroups[group]) {\n        var color = colorGroups[group][clr];\n        Utils.makeColorSymbol(\n          Utils.hexToMSColor(color.color),\n          color.color,\n          1,\n          \"c/\" + color.name\n        );\n      }\n    }\n\n    var app = NSApp.delegate();\n    app.refreshCurrentDocument();\n    Utils.doc().reloadInspector();\n\n    Utils.message(\"✅ Color symbols added to your symbols page\");\n  };\n\n  var _pickColor = function(webView, clr) {\n    var btn = BCMagnifierButton.alloc().initWithFrame(NSZeroRect);\n    coscript.pushAsCurrentCOScript();\n    btn.setCOSJSTargetFunction(function(sender) {\n      var pickColor = sender.color();\n      var color = MSColor.colorWithRed_green_blue_alpha(\n        pickColor.red(),\n        pickColor.green(),\n        pickColor.blue(),\n        1\n      );\n      var hexValue = \"#\" + color.immutableModelObject().hexValue();\n      webView\n        .windowScriptObject()\n        .evaluateWebScript(\n          \"window.vm.$store.state.\" + clr + '= \"' + hexValue + '\";'\n        );\n    });\n    btn.performClick(Utils.context);\n  };\n\n  return {\n    applyColor: _applyColor,\n    addGlobalColors: _addGlobalColors,\n    addGlobalSymbols: _addGlobalSymbols,\n    pickColor: _pickColor\n  };\n}\n","import Utils from \"../utils\";\n\nexport default {\n  shuffle(array) {\n    var currentIndex = array.length,\n      temporaryValue,\n      randomIndex;\n\n    // While there remain elements to shuffle...\n    while (0 !== currentIndex) {\n      // Pick a remaining element...\n      randomIndex = Math.floor(Math.random() * currentIndex);\n      currentIndex -= 1;\n\n      // And swap it with the current element.\n      temporaryValue = array[currentIndex];\n      array[currentIndex] = array[randomIndex];\n      array[randomIndex] = temporaryValue;\n    }\n\n    return array;\n  },\n\n  applyFakeData(fakedata) {\n    var selection = Utils.selection();\n\n    if (selection.count() <= 0) {\n      Utils.message(\"Select a text layer first\");\n    } else {\n      var selecitonLoop = selection.objectEnumerator();\n      var shuffle = this.shuffle(fakedata.data);\n      var i = 0,\n        sel;\n\n      while ((sel = selecitonLoop.nextObject())) {\n        if (Utils.is(sel, MSTextLayer)) {\n          if (i > shuffle.length) i = 0;\n          sel.setStringValue(shuffle[i]);\n          i++;\n        }\n      }\n    }\n  }\n};\n","import Utils from \"../utils\";\n\nexport default {\n  applyElevation(elevation) {\n    var selection = Utils.selection();\n\n    var name = \"Elevation/\" + elevation;\n\n    if (elevation.name) {\n      name = \"Elevation/\" + elevation.name;\n    }\n\n    var elevationName = name;\n\n    if (selection.count() <= 0) {\n      Utils.message(\"Select a layer to apply the elevation\");\n      return false;\n    }\n\n    var style = Utils.createAndGetSharedLayerStyleFromJson(\n      elevationName,\n      elevation\n    );\n\n    for (var i = 0; i < selection.count(); i++) {\n      var target = selection[i];\n      target.sharedStyle = style;\n    }\n\n    Utils.doc().reloadInspector();\n  }\n};\n","import Utils from \"../utils\";\n\nexport default {\n  convertSvgToSymbol(data) {\n    console.log(data);\n\n    var name = data.name;\n    var selectedLayers = Utils.doc().selectedLayers();\n    var existingSymbol = Utils.findSymbolByName(name);\n    var replaceColor, selectedSymbol;\n\n    if (data.colorValue) {\n      replaceColor = MSColor.colorWithRed_green_blue_alpha(\n        data.colorValue.r / 255,\n        data.colorValue.g / 255,\n        data.colorValue.b / 255,\n        data.colorValue.a\n      );\n\n      var prefix = \"c/\";\n\n      var ColorName =\n        data.colorName || prefix + data.colorHex + \"/\" + data.colorAlpha;\n\n      Utils.makeColorSymbol(\n        replaceColor,\n        data.colorHex,\n        data.colorAlpha,\n        ColorName\n      );\n\n      selectedSymbol = Utils.findSymbolByName(ColorName);\n    }\n\n    if (existingSymbol) {\n      var newSymbol = existingSymbol.newSymbolInstance(),\n        newSymbolRect = Utils.getRect(newSymbol),\n        droppedElement = selectedLayers.firstLayer(),\n        droppedEleRect = Utils.getRect(droppedElement);\n\n      Utils.current().removeLayer(droppedElement);\n\n      newSymbol.setConstrainProportions(true);\n\n      newSymbolRect.setX(droppedEleRect.x);\n      newSymbolRect.setY(droppedEleRect.y);\n      Utils.current().addLayers([newSymbol]);\n      newSymbol.isSelected = true;\n      newSymbol.select_byExpandingSelection(true, false);\n      return;\n    }\n\n    var draggedLayer = selectedLayers.firstLayer();\n    var draggedLayerRect = Utils.getRect(draggedLayer);\n\n    var svgImporter = MSSVGImporter.svgImporter();\n    var svgURL = NSURL.URLWithString(data.url);\n\n    var svgString = NSString.stringWithContentsOfURL_encoding_error(\n      svgURL,\n      NSUTF8StringEncoding,\n      null\n    );\n\n    console.log(\"-------------------------------2\");\n\n    var range = svgString.rangeOfString(\"</svg>\");\n    var path = '<path d=\"M0 0h24v24H0z\" fill=\"none\" />';\n    var hasBoundingBox = svgString.rangeOfString(\"M0 0h24v24H0z\");\n    var mu = NSMutableString.stringWithString(svgString);\n    if (hasBoundingBox.length == 0 && range.location != NSNotFound) {\n      mu.insertString_atIndex(path, range.location);\n    }\n    svgString = NSString.stringWithString(mu);\n    var svgData = svgString.dataUsingEncoding(NSUTF8StringEncoding);\n    var svgImporter = MSSVGImporter.svgImporter();\n    svgImporter.prepareToImportFromData(svgData);\n    var svgLayer = svgImporter.importAsLayer();\n    svgLayer.setName(name);\n    var svgRect = Utils.getRect(svgLayer);\n\n    svgRect.setX(draggedLayerRect.x);\n    svgRect.setY(draggedLayerRect.y);\n    Utils.current().addLayers([svgLayer]);\n    Utils.current().removeLayer(draggedLayer);\n\n    if (data.colorValue && data.isGlif) {\n      var subLayers = svgLayer.layers();\n      var colorTHex = Utils.hexToNSColor(\"#80868B\", 1);\n      var colorBlack = MSColor.colorWithRed_green_blue_alpha(\n        colorTHex.r,\n        colorTHex.g,\n        colorTHex.b,\n        1\n      );\n\n      Utils.makeColorSymbol(colorBlack, \"#80868B\", 1, \"c/grey/600\");\n      const blackSymbol = Utils.findSymbolByName(\"c/grey/600\");\n      const blackSymbolInstance = blackSymbol.newSymbolInstance();\n      blackSymbolInstance.setName(\"🎨 Color\");\n      var sRect = Utils.getRect(blackSymbolInstance);\n      sRect.setHeight(24);\n      sRect.setWidth(24);\n\n      for (var j = 0; j < subLayers.count(); j++) {\n        var layer = subLayers[j];\n        if (layer.style().hasEnabledFill() == 0) {\n          layer.removeFromParent();\n        }\n      }\n\n      subLayers = svgLayer.layers();\n\n      for (var j = 0; j < subLayers.count(); j++) {\n        var layer = subLayers[j];\n        layer.style().removeAllStyleFills();\n        layer.hasClippingMask = true;\n      }\n\n      svgLayer.addLayers([blackSymbolInstance]);\n    }\n\n    if (name.indexOf(\"ic/\") != 0) {\n      name = \"ic/\" + name;\n    }\n\n    console.log(\"-------------------------------3\");\n\n    var symbolInstance = MSSymbolCreator.createSymbolFromLayers_withName_onSymbolsPage(\n      MSLayerArray.arrayWithLayer(svgLayer),\n      name,\n      true\n    );\n\n    var symbolInstanceRect = Utils.getRect(symbolInstance);\n    symbolInstanceRect.setConstrainProportions(true);\n\n    symbolInstance.overridePoints().forEach(function(overridePoint) {\n      if (overridePoint.layerName() + \"\" == \"🎨 Color\") {\n        symbolInstance.setValue_forOverridePoint_(\n          selectedSymbol.symbolID(),\n          overridePoint\n        );\n      }\n    });\n  }\n};\n","import Utils from \"../utils\";\nvar Settings = require(\"sketch/settings\");\n\nexport default {\n  updateLayerMetadata(data) {\n    var selection = Utils.selection();\n\n    log(data);\n\n    if (selection.count() <= 0) {\n      Utils.message(\"Select a layer first\");\n    } else {\n      var selecitonLoop = selection.objectEnumerator(),\n        sel;\n\n      while ((sel = selecitonLoop.nextObject())) {\n        var keys = \"\";\n        for (let i = 0; i < data.length; i++) {\n          Settings.setLayerSettingForKey(sel, data[i].key, data[i].value);\n          keys = keys + data[i].key + \"|\";\n        }\n        Settings.setLayerSettingForKey(sel, \"keys\", keys);\n      }\n\n      // Utils.doc().reloadInspector();\n    }\n  }\n};\n","import Utils from \"../utils\";\n\nexport default {\n  applyTypographyStyles(style) {\n    var selection = Utils.selection();\n\n    if (selection.count() <= 0) {\n      Utils.message(\"Select a text layer to apply style\");\n    } else {\n      style.color = {\n        red: style.color_red,\n        blue: style.color_blue,\n        green: style.color_green,\n        alpha: style.color_alpha\n      };\n\n      var style = Utils.createAndGetSharedTextStyleFromJson(style.name, style),\n        selecitonLoop = selection.objectEnumerator(),\n        sel;\n\n      while ((sel = selecitonLoop.nextObject())) {\n        sel.sharedStyle = style;\n      }\n\n      Utils.doc().reloadInspector();\n    }\n  }\n};\n","import { MDPanel } from \"./panel/index\";\nimport CONSTS from \"./common/constants\";\n\nexport default function(context) {\n  const commandId = context.command.identifier();\n\n  var threadDictionary = NSThread.mainThread().threadDictionary();\n  var browserWindow = threadDictionary[CONSTS.stylesPanelId];\n\n  if (browserWindow) {\n    browserWindow.windowObject.evaluateWebScript(\n      `window.vm.$router.push({path: '/m2/${commandId}'})`\n    );\n    return;\n  }\n\n  const options = {\n    identifier: CONSTS.stylesPanelId,\n    width: 320,\n    height: 524,\n    url: CONSTS.baseURL + \"m2/\" + commandId\n  };\n\n  var panel = new MDPanel(options);\n  threadDictionary[CONSTS.stylesPanelId] = panel;\n}\n","var createCocoaObject = function (methods, superclass) {\n  var uniqueClassName = 'MD.sketch_' + NSUUID.UUID().UUIDString()\n  var classDesc = MOClassDescription.allocateDescriptionForClassWithName_superclass_(\n    uniqueClassName,\n    superclass || NSObject\n  )\n  classDesc.registerClass()\n  for (var selectorString in methods) {\n    var selector = NSSelectorFromString(selectorString)\n    classDesc.addInstanceMethodWithSelector_function(\n      selector,\n      methods[selectorString]\n    )\n  }\n  return NSClassFromString(uniqueClassName).new()\n}\n\nmodule.exports = function (webView, contentView) {\n  var button = createCocoaObject({\n      'mouseDown:': function (evt) {\n        this.removeFromSuperview()\n        NSApplication.sharedApplication().sendEvent(evt)\n      },\n    },\n    NSButton\n  )\n\n  button.setIdentifier('firstMouseAcceptor')\n  button.setTransparent(true)\n  button.setTranslatesAutoresizingMaskIntoConstraints(false)\n\n  contentView.addSubview(button)\n\n  var views = {\n    button: button,\n    webView: webView,\n  }\n\n  contentView.addConstraints(\n    NSLayoutConstraint.constraintsWithVisualFormat_options_metrics_views(\n      'H:[button(==webView)]',\n      NSLayoutFormatDirectionLeadingToTrailing,\n      null,\n      views\n    )\n  )\n\n  contentView.addConstraints(\n    NSLayoutConstraint.constraintsWithVisualFormat_options_metrics_views(\n      'V:[button(==webView)]',\n      NSLayoutFormatDirectionLeadingToTrailing,\n      null,\n      views\n    )\n  )\n\n  contentView.addConstraints(\n    NSLayoutConstraint.constraintWithItem_attribute_relatedBy_toItem_attribute_multiplier_constant(\n      button,\n      NSLayoutAttributeTop,\n      NSLayoutRelationEqual,\n      webView,\n      NSLayoutAttributeTop,\n      1,\n      0\n    )\n  )\n}\n","import MochaJSDelegate from \"./mocha-js-delegate\";\nimport firstMouseAcceptor from \"./first-mouse\";\nimport Icons from \"../components/icons\";\nimport Colors from \"../components/color\";\nimport Type from \"../components/type\";\nimport Elevation from \"../components/elevations\";\nimport FakeData from \"../components/data\";\nimport Metadata from \"../components/metadata\";\n\nexport class MDPanel {\n  constructor(options) {\n    const defaultOptions = {\n      url: \"https://google.com\",\n      width: 320,\n      height: 512,\n      identifier: \"com.google.material.gsid\"\n    };\n\n    this.options = Object.assign({}, defaultOptions, options);\n    this.initilize(this.options);\n  }\n\n  initilize(options) {\n    const Panel = NSPanel.alloc().init(),\n      colorWhite = NSColor.colorWithRed_green_blue_alpha(1, 1, 1, 1),\n      frame = NSMakeRect(0, 0, options.width, options.height + 24),\n      titleBgColor = colorWhite,\n      contentBgColor = colorWhite,\n      threadDictionary = NSThread.mainThread().threadDictionary(),\n      fiber = coscript.createFiber(),\n      webViewRect = NSMakeRect(0, 0, this.options.width, this.options.height),\n      contentView = Panel.contentView(),\n      webView = WebView.alloc().initWithFrame(webViewRect),\n      closeButton = Panel.standardWindowButton(NSWindowCloseButton),\n      titlebarView = contentView\n        .superview()\n        .titlebarViewController()\n        .view(),\n      titlebarContainerView = titlebarView.superview();\n\n    // threadDictionary[this.options.identifier] = this;\n\n    Panel.setTitleVisibility(NSWindowTitleHidden);\n    Panel.setTitlebarAppearsTransparent(true);\n    Panel.standardWindowButton(NSWindowCloseButton).setHidden(false);\n    Panel.standardWindowButton(NSWindowMiniaturizeButton).setHidden(true);\n    Panel.standardWindowButton(NSWindowZoomButton).setHidden(true);\n    Panel.setFrame_display(frame, true);\n    Panel.setBackgroundColor(contentBgColor);\n    Panel.setWorksWhenModal(true);\n\n    Panel.center();\n    Panel.makeKeyAndOrderFront(nil);\n\n    Panel.becomeKeyWindow();\n    Panel.setLevel(NSFloatingWindowLevel);\n\n    contentView.setWantsLayer(true);\n    contentView.layer().setFrame(contentView.frame());\n\n    webView.setBackgroundColor(contentBgColor);\n    webView.setMainFrameURL_(options.url);\n    contentView.addSubview(webView);\n    const windowObject = webView.windowScriptObject();\n\n    this.webView = webView;\n    this.windowObject = windowObject;\n\n    const delegate = new MochaJSDelegate({\n      \"webView:didChangeLocationWithinPageForFrame:\": function(\n        webView,\n        webFrame\n      ) {\n        const request = NSURL.URLWithString(webView.mainFrameURL()).fragment();\n        if (request) {\n          const sketchData = JSON.parse(\n            decodeURI(windowObject.valueForKey(\"_sketch_data\"))\n          );\n\n          if (request == \"onWindowDidBlur\") {\n            firstMouseAcceptor(webView, contentView);\n          }\n\n          if (request == \"iconDragEnd\") {\n            Icons.convertSvgToSymbol(sketchData);\n          }\n\n          if (request == \"applyColor\") {\n            Colors().applyColor(sketchData);\n          }\n\n          if (request == \"addGlobalSymbols\") {\n            Colors().addGlobalSymbols(sketchData);\n          }\n\n          if (request == \"addGlobalColors\") {\n            Colors().addGlobalColors(sketchData);\n          }\n\n          if (request == \"pickColor\") {\n            Colors().pickColor(webView, sketchData);\n          }\n\n          if (request == \"applyStyles\") {\n            Type.applyTypographyStyles(sketchData);\n          }\n\n          if (request == \"applyFakeData\") {\n            FakeData.applyFakeData(sketchData);\n          }\n\n          if (request == \"applyElevations\") {\n            Elevation.applyElevation(sketchData);\n          }\n\n          if (request == \"updateLayerMetadata\") {\n            Metadata.updateLayerMetadata(sketchData);\n          }\n        }\n\n        windowObject.evaluateWebScript(\"window.location.hash = '';\");\n      }\n    });\n\n    webView.setFrameLoadDelegate_(delegate.getClassInstance());\n\n    closeButton.setCOSJSTargetFunction(function(sender) {\n      self.wantsStop = true;\n      Panel.close();\n\n      if (options.identifier) {\n        threadDictionary.removeObjectForKey(options.identifier);\n        fiber.cleanup();\n      }\n    });\n    closeButton.setAction(\"callAction:\");\n\n    closeButton.setFrameOrigin(NSMakePoint(8, 0));\n    titlebarContainerView.setFrame(\n      NSMakeRect(0, options.height, options.width, 24)\n    );\n    titlebarView.setFrameSize(NSMakeSize(options.width, 24));\n    titlebarView.setTransparent(true);\n    titlebarView.setBackgroundColor(titleBgColor);\n    titlebarContainerView.superview().setBackgroundColor(titleBgColor);\n  }\n}\n","module.exports = function(selectorHandlerDict, superclass) {\n  var uniqueClassName =\n    \"MochaJSDelegate_DynamicClass_\" + NSUUID.UUID().UUIDString();\n\n  var delegateClassDesc = MOClassDescription.allocateDescriptionForClassWithName_superclass_(\n    uniqueClassName,\n    superclass || NSObject\n  );\n\n  delegateClassDesc.registerClass();\n\n  // Storage Handlers\n  var handlers = {};\n\n  // Define interface\n  this.setHandlerForSelector = function(selectorString, func) {\n    var handlerHasBeenSet = selectorString in handlers;\n    var selector = NSSelectorFromString(selectorString);\n\n    handlers[selectorString] = func;\n\n    /*\n      For some reason, Mocha acts weird about arguments: https://github.com/logancollins/Mocha/issues/28\n      We have to basically create a dynamic handler with a likewise dynamic number of predefined arguments.\n    */\n    if (!handlerHasBeenSet) {\n      var args = [];\n      var regex = /:/g;\n      while (regex.exec(selectorString)) {\n        args.push(\"arg\" + args.length);\n      }\n\n      var dynamicFunction = eval(\n        \"(function (\" +\n          args.join(\", \") +\n          \") { return handlers[selectorString].apply(this, arguments); })\"\n      );\n\n      delegateClassDesc.addInstanceMethodWithSelector_function_(\n        selector,\n        dynamicFunction\n      );\n    }\n  };\n\n  this.removeHandlerForSelector = function(selectorString) {\n    delete handlers[selectorString];\n  };\n\n  this.getHandlerForSelector = function(selectorString) {\n    return handlers[selectorString];\n  };\n\n  this.getAllHandlers = function() {\n    return handlers;\n  };\n\n  this.getClass = function() {\n    return NSClassFromString(uniqueClassName);\n  };\n\n  this.getClassInstance = function() {\n    return NSClassFromString(uniqueClassName).new();\n  };\n\n  // Convenience\n  if (typeof selectorHandlerDict === \"object\") {\n    for (var selectorString in selectorHandlerDict) {\n      this.setHandlerForSelector(\n        selectorString,\n        selectorHandlerDict[selectorString]\n      );\n    }\n  }\n};\n","import ArrayUtils from './modules/array'\nimport ClassUtils from './modules/class'\nimport ColorUtils from './modules/color'\nimport DocUtils from './modules/doc'\nimport DomUtils from './modules/dom'\nimport StyleUtils from './modules/styles'\nimport SymbolUtils from './modules/symbol'\nimport UiUtils from './modules/ui'\n\nconst Utils = Object.assign({},\n  ArrayUtils,\n  ClassUtils,\n  ColorUtils,\n  DocUtils,\n  DomUtils,\n  StyleUtils,\n  SymbolUtils,\n  UiUtils\n)\n\nexport default Utils;","import ClassUtils from \"./class\";\n\nexport default {\n  find(format, container, returnArray) {\n    if (!format || !format.key || !format.match) {\n      return false;\n    }\n    var predicate = NSPredicate.predicateWithFormat(format.key, format.match),\n      container = container || this.current,\n      items;\n\n    if (container.pages) {\n      items = container.pages();\n    } else if (\n      ClassUtils.is(container, MSSharedStyleContainer) ||\n      ClassUtils.is(container, MSSharedTextStyleContainer)\n    ) {\n      items = container.objectsSortedByName();\n    } else if (container.children) {\n      items = container.children();\n    } else {\n      items = container;\n    }\n\n    var queryResult = items.filteredArrayUsingPredicate(predicate);\n\n    if (returnArray) return queryResult;\n\n    if (queryResult.count() == 1) {\n      return queryResult[0];\n    } else if (queryResult.count() > 0) {\n      return queryResult;\n    } else {\n      return false;\n    }\n  }\n};\n","export default {\n  is: function(layer, theClass) {\n    if (!layer) return false;\n    var klass = layer.class();\n    return klass === theClass;\n  }\n};\n","export default {\n  hexToNSColor: function(hex, alpha) {\n    var result = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex);\n    return result\n      ? {\n          r: this.toHex(result[1]) / 255,\n          g: this.toHex(result[2]) / 255,\n          b: this.toHex(result[3]) / 255,\n          a: alpha || 1\n        }\n      : null;\n  },\n  toHex: function(c) {\n    var hex = parseInt(c, 16);\n    return hex.length == 1 ? \"0\" + hex : hex;\n  },\n  hexToMSColor(hex) {\n    var r = parseInt(hex.substring(1, 3), 16) / 255,\n      g = parseInt(hex.substring(3, 5), 16) / 255,\n      b = parseInt(hex.substring(5, 7), 16) / 255,\n      a = 1;\n    return MSColor.colorWithRed_green_blue_alpha(r, g, b, a);\n  },\n  rgbaToMSColor: function(rgba) {\n    rgba = rgba.replace(\"rgba(\", \"\").replace(\")\", \"\");\n    rgba = rgba.split(\",\");\n\n    var r = parseFloat(rgba[0]) / 255,\n      g = parseFloat(rgba[1]) / 255,\n      b = parseFloat(rgba[2]) / 255,\n      a = parseFloat(rgba[3]);\n\n    return MSColor.colorWithRed_green_blue_alpha(r, g, b, a);\n  },\n  cssColorToMSColor: function(color) {\n    if (color.type == \"hex\") {\n      return this.hexToMSColor(color.value);\n    }\n    if (color.type == \"rgba\") {\n      return this.rgbaToMSColor(color.value);\n    }\n  }\n};\n","export default {\n  doc() {\n    const document = NSDocumentController.sharedDocumentController().currentDocument();\n    return document;\n  },\n  current() {\n    const doc = this.doc(),\n      page = doc.currentPage(),\n      artboard = page.currentArtboard();\n\n    return artboard || page;\n  },\n  selection() {\n    return this.doc()\n      .selectedLayers()\n      .layers();\n  }\n};\n","export default {\n  getRect: function(layer) {\n    var rect = layer.frame();\n    return {\n      x: Math.round(rect.x()),\n      y: Math.round(rect.y()),\n      width: Math.round(rect.width()),\n      height: Math.round(rect.height()),\n      maxX: Math.round(rect.x() + rect.width()),\n      maxY: Math.round(rect.y() + rect.height()),\n      setX(x) {\n        rect.setX(x);\n        this.x = x;\n        this.maxX = this.x + this.width;\n      },\n      setY(y) {\n        rect.setY(y);\n        this.y = y;\n        this.maxY = this.y + this.height;\n      },\n      setWidth(width) {\n        rect.setWidth(width);\n        this.width = width;\n        this.maxX = this.x + this.width;\n      },\n      setHeight(height) {\n        rect.setHeight(height);\n        this.height = height;\n        this.maxY = this.y + this.height;\n      },\n      setConstrainProportions(val) {\n        rect.setConstrainProportions(val);\n      }\n    };\n  },\n  addGroup: function() {\n    return MSLayerGroup.new();\n  },\n  addShape: function() {\n    return MSShapeGroup.shapeWithRect(NSMakeRect(0, 0, 100, 100));\n  },\n  addText: function(container, string) {\n    var text = MSTextLayer.new();\n    text.setStringValue(string || \"Text\");\n    return text;\n  },\n  removeLayer: function(layer) {\n    var container = layer.parentGroup();\n    if (container) container.removeLayer(layer);\n  }\n};\n","import ClassUtils from \"./class\";\nimport DocUtils from \"./doc\";\nimport DomUtils from \"./dom\";\nimport ArrayUtils from \"./array\";\nimport ColorUtils from \"./color\";\n\nexport default {\n  getSharedTextStyleByName(name) {\n    var sharedStyles = DocUtils.doc()\n      .documentData()\n      .allTextStyles();\n    var style = ArrayUtils.find(\n      {\n        key: \"(name != NULL) && (name == %@)\",\n        match: name\n      },\n      sharedStyles\n    );\n    style = !style || ClassUtils.is(style, MSSharedStyle) ? style : style[0];\n    return style;\n  },\n  getSharedLayerStyleByName: function(name) {\n    var sharedStyles = DocUtils.doc()\n      .documentData()\n      .allLayerStyles();\n    var style = ArrayUtils.find(\n      {\n        key: \"(name != NULL) && (name == %@)\",\n        match: name\n      },\n      sharedStyles\n    );\n    style = !style || ClassUtils.is(style, MSSharedStyle) ? style : style[0];\n    return style;\n  },\n  addSharedStylesToDoc(name, style, type) {\n    var container = DocUtils.doc()\n      .documentData()\n      .layerTextStyles();\n    if (type == \"layer\") {\n      container = DocUtils.doc()\n        .documentData()\n        .layerStyles();\n    }\n    var s = MSSharedStyle.alloc().initWithName_style(name, style);\n    container.addSharedObject(s);\n  },\n  createAndGetSharedTextStyleFromJson(name, json) {\n    var style = this.getSharedTextStyleByName(name);\n\n    if (style == 0 && json.color) {\n      var color = MSColor.colorWithRed_green_blue_alpha(\n          json.color.red,\n          json.color.green,\n          json.color.blue,\n          json.color.alpha\n        ),\n        fontFamily = json.font || \"Roboto\",\n        lineHeight = json.lineHeight || 15,\n        fontSize = json.size || 13,\n        leading = json.leading || 0,\n        alignment = json.alignment || 0,\n        spacing = json.spacing || 0,\n        paragraphSpacing = json.paragraphSpacing || 0,\n        textTransform = json.textTransform || 0,\n        strikethrough = json.strikethrough || 0,\n        underline = json.underline || 0,\n        text = this.addText(this.page);\n\n      text.setFontPostscriptName(fontFamily);\n      text.setLeading(leading);\n      text.setLineHeight(lineHeight);\n      text.setFontSize(fontSize);\n      text.setTextAlignment(alignment);\n      text.setTextColor(color);\n      text.textAlignment = alignment;\n      text.setCharacterSpacing(spacing);\n      text.addAttribute_value(\n        \"MSAttributedStringTextTransformAttribute\",\n        textTransform\n      );\n\n      var paragraphStyle = text.paragraphStyle();\n      paragraphStyle.setParagraphSpacing(paragraphSpacing);\n      text.addAttribute_value(\"NSParagraphStyle\", paragraphStyle);\n      text.addAttribute_value(\"NSStrikethrough\", strikethrough);\n      text.addAttribute_value(\"NSUnderline\", underline);\n\n      style = text.style();\n\n      this.addSharedStylesToDoc(name, style, \"text\");\n      DomUtils.removeLayer(text);\n    }\n\n    return this.getSharedTextStyleByName(name);\n  },\n\n  applyFillsToStyle(style, fills) {\n    for (var i = 0; i < fills.length; i++) {\n      var fill = fills[i];\n      var color = ColorUtils.cssColorToMSColor(fill.color);\n      var styleFill = style.addStylePartOfType(0);\n      styleFill.setFillType(fill.type);\n      styleFill.color = color;\n      styleFill.isEnabled = true;\n    }\n  },\n\n  applyShadowsToStyle(style, shadows) {\n    for (var i = 0; i < shadows.length; i++) {\n      var shadow = shadows[i];\n      var color = ColorUtils.cssColorToMSColor(shadow.color);\n      var styleShadow = style.addStylePartOfType(2);\n\n      styleShadow.offsetX = shadow.x;\n      styleShadow.offsetY = shadow.y;\n      styleShadow.color = color;\n      styleShadow.blurRadius = shadow.blur;\n      styleShadow.spread = shadow.spread;\n      styleShadow.isEnabled = true;\n    }\n  },\n\n  applyBordersToStyle(style, borders) {\n    for (var i = 0; i < borders.length; i++) {\n      var border = borders[i];\n      var color = ColorUtils.cssColorToMSColor(border.color);\n      var styleBorder = style.addStylePartOfType(1);\n\n      styleBorder.color = color;\n      styleBorder.thickness = border.thickness;\n      styleBorder.position = border.position;\n    }\n  },\n\n  createAndGetSharedLayerStyleFromJson(name, json) {\n    var style = this.getSharedLayerStyleByName(name);\n\n    if (style == 0) {\n      style = MSStyle.alloc().init();\n      if (json.fills) this.applyFillsToStyle(style, json.fills);\n      if (json.shadows) this.applyShadowsToStyle(style, json.shadows);\n      if (json.borders) this.applyBordersToStyle(style, json.borders);\n      style.contextSettings().setOpacity(1);\n      this.addSharedStylesToDoc(name, style, \"layer\");\n    }\n\n    return this.getSharedLayerStyleByName(name);\n  }\n};\n","import DocUtils from './doc';\nimport DomUtils from './dom';\n\nexport default {\n  findSymbolByName(symbolName) {\n    var targetSymbols = DocUtils.doc()\n      .documentData()\n      .allSymbols();\n    for (var j = 0; j < targetSymbols.count(); j++) {\n      var targetSymbol = targetSymbols.objectAtIndex(j);\n      if (targetSymbol.name().isEqualToString(symbolName)) {\n        return targetSymbol;\n      }\n    }\n    return false;\n  },\n  makeColorSymbol: function(color, colorHex, colorAlpha, name) {\n    if (this.findSymbolByName(name)) {\n      return;\n    }\n\n    DocUtils.doc()\n      .documentData()\n      .symbolsPageOrCreateIfNecessary();\n\n    var colorBg = DomUtils.addShape();\n    var colorBgRect = DomUtils.getRect(colorBg);\n\n    colorBgRect.setHeight(10);\n    colorBgRect.setWidth(10);\n\n    if (colorBg.class() == \"MSShapeGroup\") {\n      var fills = colorBg.style().enabledFills();\n      if (fills.count() > 0 && fills.lastObject().fillType() == 0) {\n        fills.lastObject().setColor(color);\n      } else {\n        var fill = colorBg.style().addStylePartOfType(0);\n        fill.setFillType(0);\n        fill.setColor(color);\n      }\n    }\n\n    var layers = MSLayerArray.arrayWithLayers([colorBg]);\n\n    DocUtils.current().addLayers(layers);\n\n    if (MSSymbolCreator.canCreateSymbolFromLayers(layers)) {\n      var symbolName = name;\n      var symbolInstance = MSSymbolCreator.createSymbolFromLayers_withName_onSymbolsPage(\n        layers,\n        symbolName,\n        true\n      );\n      var symbolInstanceRect = DomUtils.getRect(symbolInstance);\n      symbolInstanceRect.setConstrainProportions(true);\n      symbolInstance.removeFromParent();\n    }\n  }\n};\n","import DocUtils from \"./doc\";\n\nexport default {\n  message(message) {\n    DocUtils.doc().showMessage(message);\n  }\n};\n","module.exports = require(\"sketch/settings\");"],"sourceRoot":""}